import rsa
import os

# Ensure the output directory exists
key_dir = "server/rsa_keys"
os.makedirs(key_dir, exist_ok=True)

# Generate RSA key pair
(public_key, private_key) = rsa.newkeys(2048)

# Save the public key
with open(os.path.join(key_dir, "public.pem"), "wb") as pub_file:
    pub_file.write(public_key.save_pkcs1("PEM"))

# Save the private key
with open(os.path.join(key_dir, "private.pem"), "wb") as priv_file:
    priv_file.write(private_key.save_pkcs1("PEM"))

print("âœ… RSA Key pair generated and saved in 'server/rsa_keys/'")